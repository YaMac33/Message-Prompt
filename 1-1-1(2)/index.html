<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- ページタイトル：ブログ記事の内容に合わせて日本語で魅力的に -->
  <title>ITパスポート：企業活動をやさしく理解するガイド 📘</title>

  <!-- サイト共通スタイル（既存ファイルを1回のみ読み込む） -->
  <link rel="stylesheet" href="/ai-comparison-test-site/style.css" />

  <!-- 最低限のインラインCSS（20行以内）：
       アニメーションの初期状態、トップへ戻るボタン、本文先頭余白用の変数を定義 -->
  <style>
    /* コンテンツの開始位置をヘッダー高さに合わせるための変数を使用 */
    main{padding-top:calc(var(--header-height,70px) + 20px);}
    /* フェードインの初期状態 */
    .fade-in{opacity:0;transform:translateY(12px);transition:opacity .6s ease,transform .6s ease;}
    .in-view{opacity:1;transform:none;}
    /* トップへ戻るボタン */
    #back-to-top{position:fixed;right:18px;bottom:18px;padding:10px 12px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,.12);display:none;opacity:0;transition:opacity .3s;}
    #back-to-top.show{display:block;opacity:1;}
    /* 目次の小さなスタイル補助（style.css主体のはず） */
    .toc-list{list-style:none;padding-left:0;margin:12px 0;}
    .toc-list a{display:block;padding:6px 8px;border-radius:6px;}
  </style>
</head>
<body>
  <!-- ヘッダーを動的に読み込むためのマウントポイント -->
  <div id="header-mount" aria-hidden="true"></div>

  <main id="main-content" role="main" class="container">
    <!-- 記事の主見出し（ここに目次が自動生成されます） -->
    <article class="blog-article" aria-labelledby="article-title">
      <h1 id="article-title">企業活動とは？ITパスポート試験向けの初心者〜中級解説 ✅</h1>

      <!-- 自動生成される目次がここに挿入される -->
      <nav id="auto-toc" aria-label="目次" class="fade-in" aria-hidden="false">
        <!-- JavaScriptが<h2>/<h3>から目次を生成します -->
      </nav>

      <!-- 記事本文（元の構造をセマンティックに再現） -->
      <section class="fade-in">
        <h2>📘 1. 初心者向け解説：企業活動とは何か？</h2>

        <h3>1-1. 用語の定義</h3>
        <p>以下は試験で頻出の基本用語です。表形式で整理すると覚えやすいです。</p>
        <table>
          <thead>
            <tr><th>用語</th><th>定義</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>企業活動</strong></td><td>利益を得ることを目的として行う、企業の一連の経済的な活動（生産・販売・財務・人事など）。</td></tr>
            <tr><td><strong>経営資源</strong></td><td>「ヒト」「モノ」「カネ」「情報」など、企業活動に必要な要素。</td></tr>
            <tr><td><strong>バリューチェーン</strong></td><td>企業の活動を価値を生み出すプロセスに分解したもの。</td></tr>
            <tr><td><strong>PDCAサイクル</strong></td><td>Plan→Do→Check→Act の改善サイクル。</td></tr>
          </tbody>
        </table>

        <h3>1-2. 背景知識と全体像</h3>
        <p>企業は製品やサービスを「作る」「売る」「管理する」活動を通じて収益を得ます。ITパスポートではこうした企業の基本的仕組みを問います。</p>
        <ul>
          <li>経営戦略（何を目指すか）</li>
          <li>マーケティング（どう売るか）</li>
          <li>生産・物流（どう作るか）</li>
          <li>財務・会計（お金の管理）</li>
          <li>人事・組織（人の管理）</li>
          <li>情報システム（ITの活用）</li>
        </ul>

        <h3>1-3. 具体例と図解</h3>
        <p>図解テキスト版でバリューチェーンの流れを示します：</p>
        <pre aria-label="バリューチェーン図">
[資金調達]
   ↓
[材料仕入れ] → [生産] → [在庫] → [販売・マーケティング] → [収益]
   ↓                                               ↑
[経理・会計] ← [顧客満足・クレーム対応] ← [アフターサービス]
        </pre>

        <h3>1-4. 試験で問われやすいポイント</h3>
        <p>頻出ポイントを押さえましょう：</p>
        <ul>
          <li>バリューチェーンの要素（主活動／支援活動）</li>
          <li>経営資源（ヒト・モノ・カネ・情報）</li>
          <li>PDCAの正しい順序</li>
          <li>CSR（企業の社会的責任）</li>
        </ul>

        <h3>1-5. よくある間違い</h3>
        <table>
          <thead><tr><th>間違い</th><th>正しい理解</th></tr></thead>
          <tbody>
            <tr><td>情報は経営資源ではない</td><td>情報も重要な経営資源（IT活用で差がつく）</td></tr>
            <tr><td>バリューチェーンは製造業だけの概念</td><td>サービス業にも適用できる</td></tr>
            <tr><td>PDCAは一回で終わる</td><td>継続的に回して改善することが重要</td></tr>
          </tbody>
        </table>
      </section>

      <section class="fade-in">
        <h2>📘 2. 中級者向け解説：企業活動の深掘り</h2>

        <h3>2-1. 深掘りポイント（経営資源の戦略的活用）</h3>
        <p>経営資源ごとに戦略的な活用方法を理解しましょう。</p>
        <ul>
          <li>人的資源（スキル開発、組織文化）</li>
          <li>物的資源（生産設備、在庫管理）</li>
          <li>資金（資本構成・投資判断）</li>
          <li>情報（顧客データ、IT化、ビッグデータ）</li>
        </ul>

        <h3>2-1b. 組織構造の主要タイプ</h3>
        <table>
          <thead><tr><th>組織形態</th><th>特徴</th></tr></thead>
          <tbody>
            <tr><td>機能別組織</td><td>部門ごとに役割を分担（営業・開発など）</td></tr>
            <tr><td>事業部制</td><td>製品や地域ごとに独立して管理</td></tr>
            <tr><td>マトリックス組織</td><td>機能とプロジェクトの両面を持つ柔軟型</td></tr>
          </tbody>
        </table>

        <h3>2-1c. 経営指標（重要な計算式）</h3>
        <ul>
          <li>売上高：製品・サービスの販売額</li>
          <li>営業利益：売上高 － 販売管理費 － 仕入原価</li>
          <li>ROE：純利益 ÷ 自己資本（自己資本の収益性）</li>
          <li>流動比率：流動資産 ÷ 流動負債 × 100</li>
        </ul>

        <h3>2-2. よく出る応用パターン</h3>
        <p>応用問題の典型パターンと考え方は試験対策で重要です。</p>
      </section>

      <section class="fade-in" aria-labelledby="q-section">
        <h2 id="q-section">🎓 3. 章末問題（4択・5問）</h2>

        <ol>
          <li>
            <strong>問題1：</strong> バリューチェーンにおいて、「販売促進活動」はどの区分か？
            <ul>
              <li>A. 支援活動</li><li>B. 主活動 ✅</li><li>C. 財務活動</li><li>D. 管理活動</li>
            </ul>
            <p><em>解説：</em>販売促進は製品の価値を直接高めるため主活動に該当します。</p>
          </li>

          <li>
            <strong>問題2：</strong> 経営資源として正しくないものはどれか？
            <ul><li>A. ヒト</li><li>B. カネ</li><li>C. 時間 ✅</li><li>D. 情報</li></ul>
            <p><em>解説：</em>時間は直接の経営資源とは定義されないことが多いです。</p>
          </li>

          <li>
            <strong>問題3：</strong> PDCAで「Check」の役割は？
            <ul><li>A. 計画を立てる</li><li>B. 実行する</li><li>C. 実績と目標の差異を確認する ✅</li><li>D. 改善を実施する</li></ul>
          </li>

          <li>
            <strong>問題4：</strong> 製品別に部門を分けて管理する組織は？
            <ul><li>A. 機能別組織</li><li>B. 事業部制 ✅</li><li>C. マトリックス</li><li>D. プロジェクト組織</li></ul>
          </li>

          <li>
            <strong>問題5：</strong> 環境保護や地域貢献を行う考え方は？
            <ul><li>A. ROE</li><li>B. CSR ✅</li><li>C. SWOT</li><li>D. MBO</li></ul>
          </li>
        </ol>
      </section>

      <footer class="fade-in" aria-label="この記事のまとめ">
        <h2>🎓 まとめ</h2>
        <p>初心者はまず用語と全体像を押さえ、中級者は指標や分析手法で企業活動を評価できるようにしましょう。</p>
      </footer>
    </article>
  </main>

  <!-- トップへ戻るボタン（スクリーンリーダー用ラベルあり） -->
  <button id="back-to-top" aria-label="トップへ戻る">↑ トップへ戻る</button>

  <!-- JavaScript：ヘッダー読み込み、目次生成、IntersectionObserver、トップへ戻る等 -->
  <script>
    // -------------------------
    // ヘッダーをfetchで読み込んで#header-mountに挿入する
    // -------------------------
    (function loadHeader(){
      // Fetch header.html and insert its inner content (avoid duplicating <html>など)
      fetch('/ai-comparison-test-site/header.html', {cache: "no-store"})
        .then(res => {
          if(!res.ok) throw new Error('ヘッダーの取得に失敗しました');
          return res.text();
        })
        .then(htmlText => {
          // Parse and extract body children (or whole document if no body)
          const parser = new DOMParser();
          const doc = parser.parseFromString(htmlText, 'text/html');
          const mount = document.getElementById('header-mount');
          // Prefer <header> element if present to avoid inserting full <head> tags
          const candidate = doc.querySelector('header') || doc.body || doc.documentElement;
          // Import nodes to current document and append
          Array.from(candidate.childNodes).forEach(node => mount.appendChild(document.importNode(node, true)));
          // After inserting header, measure its height and set CSS variable --header-height
          requestAnimationFrame(() => {
            const headerHeight = mount.offsetHeight || 70;
            document.documentElement.style.setProperty('--header-height', headerHeight + 'px');
            // Ensure header is visible to assistive tech
            mount.setAttribute('aria-hidden','false');
          });
        })
        .catch(err => {
          console.error('header load error:', err);
        });
    })();

    // -------------------------
    // 目次自動生成：記事内の<h2>と<h3>からアンカー付き目次を作成
    // -------------------------
    (function generateTOC(){
      const article = document.querySelector('.blog-article');
      const tocContainer = document.getElementById('auto-toc');
      if(!article || !tocContainer) return;
      const headings = article.querySelectorAll('h2, h3');
      if(headings.length === 0){
        tocContainer.style.display = 'none';
        return;
      }
      const ul = document.createElement('ul');
      ul.className = 'toc-list';
      // Use a map to ensure unique ids
      const idCounts = {};
      headings.forEach(h => {
        // Create slug-like id
        let base = (h.textContent || 'section').toLowerCase().trim()
                   .replace(/[^\w\u3000-\u303F\u3040-\u30FF\u4E00-\u9FFF]+/g, '-')
                   .replace(/^-+|-+$/g, '');
        if(!base) base = 'section';
        const count = (idCounts[base] || 0) + 1;
        idCounts[base] = count;
        const id = count === 1 ? base : `${base}-${count}`;
        h.id = id; // 自動付与

        // Create a small TOC entry
        const li = document.createElement('li');
        li.style.marginLeft = h.tagName.toLowerCase() === 'h3' ? '16px' : '0';
        const a = document.createElement('a');
        a.href = `#${id}`;
        a.textContent = (h.tagName.toLowerCase() === 'h2' ? '🔹 ' : '・ ') + h.textContent.trim();
        a.setAttribute('aria-label', `目次：${h.textContent.trim()}`);
        a.addEventListener('click', function(e){
          e.preventDefault();
          // スムーズスクロールで該当見出しへ
          document.getElementById(id).scrollIntoView({behavior:'smooth', block:'start'});
          // focus for accessibility
          setTimeout(()=> document.getElementById(id).setAttribute('tabindex','-1') && document.getElementById(id).focus(), 500);
        });
        li.appendChild(a);
        ul.appendChild(li);
      });
      // Insert toc after the main h1 (we already have auto-toc placeholder there)
      const title = document.getElementById('article-title');
      tocContainer.appendChild(ul);
      // Small heading for TOC
      const tocHeader = document.createElement('h2');
      tocHeader.textContent = '目次 🗂';
      tocHeader.setAttribute('aria-hidden','false');
      tocContainer.insertBefore(tocHeader, ul);
    })();

    // -------------------------
    // IntersectionObserverでフェードインアニメーションを適用
    // -------------------------
    (function setupObserver(){
      const options = {root: null, rootMargin: '0px', threshold: 0.12};
      const observer = new IntersectionObserver((entries)=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){
            entry.target.classList.add('in-view');
            // 一度見えたら監視解除してパフォーマンス確保
            observer.unobserve(entry.target);
          }
        });
      }, options);
      // Observe major blocks: sections, headers, footer etc.
      const targets = document.querySelectorAll('.fade-in');
      targets.forEach(t => observer.observe(t));
    })();

    // -------------------------
    // 「トップへ戻る」ボタン：スクロールに応じて表示、クリックでスムーズスクロール
    // -------------------------
    (function backToTop(){
      const btn = document.getElementById('back-to-top');
      const showThreshold = window.innerHeight || 600;
      // Show/hide on scroll
      window.addEventListener('scroll', () => {
        if(window.scrollY > showThreshold){
          btn.classList.add('show');
        } else {
          btn.classList.remove('show');
        }
      }, {passive:true});

      // Click handler
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        window.scrollTo({top:0,behavior:'smooth'});
        // move focus to top for accessibility
        const topElem = document.getElementById('header-mount') || document.body;
        topElem.setAttribute('tabindex','-1');
        topElem.focus();
      });
    })();

    // -------------------------
    // キーボード操作のサポート：Enterでトップへ戻るボタンを使えるように
    // -------------------------
    (function keyboardSupport(){
      const btn = document.getElementById('back-to-top');
      btn.addEventListener('keyup', (e) => {
        if(e.key === 'Enter' || e.key === ' '){
          btn.click();
        }
      });
    })();
  </script>
</body>
</html>
